(this["webpackJsonpmy-app2"]=this["webpackJsonpmy-app2"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(36),r=n.n(i),o=(n(45),n(46),n(37)),u=n(39),l=n(2),d=n(38),j=n.n(d),f=a.a.createContext();function b(){return Object(s.useContext)(f)}function h(e){var t=e.children,n=Object(s.useState)(),a=Object(l.a)(n,2),i=a[0],r=a[1];console.log(i);var o={uid:i,setUid:r};return Object(c.jsx)(f.Provider,{value:o,children:t})}var v=a.a.createContext();function m(e){var t=e.children,n=Object(s.useState)(null),a=Object(l.a)(n,2),i=a[0],r=a[1],o=b().setUid;return Object(s.useEffect)((function(){if(null!==i)return i.on("userId",(function(e){o(e)})),function(){return i.off("userId")}}),[i]),Object(s.useEffect)((function(){var e=j()("http://localhost:5000");return console.log(e),r(e),function(){return e.close()}}),[]),Object(c.jsx)(v.Provider,{value:i,children:t})}new Date,new Date;var O=a.a.createContext();function g(){return Object(s.useContext)(O)}function x(e){var t=e.children,n=Object(s.useState)([]),a=Object(l.a)(n,2),i=a[0],r=a[1],d=Object(s.useContext)(v),j=b().uid;console.log(i),Object(s.useEffect)((function(){if(null!==d)return d.on("receive-message",(function(e){console.log(e),r((function(t){return[].concat(Object(u.a)(t),[e])}))})),d.on("old-messages",(function(e){r(e)})),function(){d.off("userId"),d.off("old-messages")}}),[d]);var f={messages:i,setMessages:r,sendMessage:function(e){d.emit("send-message",{text:e,uid:j,time:(new Date).getTime()})},removeMessage:function(){r((function(e){var t=Object(o.a)(e);t[0];return t.slice(1)}))}};return Object(c.jsx)(O.Provider,{value:f,children:t})}n(78);var p=20;function w(e){var t,n=e.messageTime,a=e.setEnded,i=Object(s.useState)(),r=Object(l.a)(i,2),o=r[0],u=r[1],d=Object(s.useState)(!1),j=Object(l.a)(d,2),f=j[0],b=j[1],h=Math.PI;function v(){t++;var e=(t%=360)*h/180,n=10*Math.sin(e),c=-10*Math.cos(e),s=t>180?1:0,i="M 0 0 v -".concat(10," A ").concat(10," ").concat(10," 1 ").concat(s," 1 ").concat(n," ").concat(c," z");u(i),setTimeout(v,180),t>358&&a(!0),t>270&&b(!0)}return Object(s.useEffect)((function(){t=((new Date).getTime()-n)/166,v()}),[]),Object(c.jsx)("div",{className:f?"timer flashing-timer":"timer",children:Object(c.jsx)("div",{className:"circle-background",style:{width:p,height:p},children:Object(c.jsxs)("svg",{width:p,height:p,viewBox:"0 0 ".concat(p," ").concat(p),children:[Object(c.jsx)("path",{id:"border",d:o,transform:"translate(".concat(10,",").concat(10,")")}),Object(c.jsx)("path",{id:"loader",d:o,transform:"translate(".concat(10,",").concat(10,") scale(.84)")})]})})})}n(79);function N(e){var t=e.message,n=e.uid,a=e.time,i=Object(s.useState)(!1),r=Object(l.a)(i,2),o=r[0],u=r[1],d=g().removeMessage;return Object(s.useEffect)((function(){o&&setTimeout((function(){d()}),500)}),[o]),Object(c.jsxs)("div",{className:o?"message-container message-ended":"message-container",children:[Object(c.jsx)("div",{className:"message-name",children:n}),Object(c.jsx)(w,{messageTime:a,setEnded:u}),Object(c.jsx)("div",{className:"message-context",children:t})]})}n(80);function S(){var e=g().messages;return Object(c.jsx)("div",{className:"chat",children:e.map((function(e){return Object(c.jsx)(N,{message:e.text,uid:e.uid,time:e.time},e.time)}))})}n(81);function k(){var e=Object(s.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(),r=Object(l.a)(i,2),o=r[0],u=r[1];Object(s.useEffect)((function(){return u(setInterval((function(){a(d((new Date).getTime().toString()))}),5e3)),function(){clearInterval(o)}}),[]);var d=function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)};return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsxs)("section",{className:"header-top",children:[Object(c.jsx)("div",{className:"circle-progress"}),Object(c.jsx)("div",{className:"title",children:"black space"})]}),Object(c.jsx)("div",{className:"progress",children:Object(c.jsx)("div",{className:"indeterminate"})}),Object(c.jsxs)("section",{className:"information",children:[Object(c.jsx)("div",{className:"square"}),Object(c.jsx)("div",{className:"hash",children:n}),Object(c.jsx)("div",{className:"users",children:"R48, B13 ,C55"}),Object(c.jsx)("div",{className:"room",children:"xpttg"})]})]})}n(82);function C(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=g().sendMessage;return Object(c.jsx)("footer",{className:"input-area",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(n),a("")},children:[Object(c.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)}}),Object(c.jsx)("button",{disabled:""===n,type:"submit",children:"send"})]})})}n(83);n(84);function E(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{}),Object(c.jsx)(S,{}),Object(c.jsx)(C,{})]})}var T=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(h,{children:Object(c.jsx)(m,{children:Object(c.jsx)(x,{children:Object(c.jsx)(E,{})})})})})},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");M?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):y(t,e)}))}}(),I()}},[[85,1,2]]]);
//# sourceMappingURL=main.d7275c3b.chunk.js.map